# Задание - Сервис заметок

## Что нужно было сделать

Сделать веб-приложение для заметок с регистрацией, авторизацией и CRUD операциями.

## Что реализовано

### Backend (Node.js + Moleculer)

Сделал три микросервиса:

- **auth.service** - регистрация, логин, проверка токенов
- **notes.service** - вся работа с заметками
- **api.service** - API Gateway, раздает запросы по сервисам

База данных - MongoDB через TypeORM. Пароли хешируются bcrypt'ом, авторизация через JWT токены.

### Frontend (Nuxt 3)

Страницы:

- `/login` - вход/регистрация
- `/` - список всех заметок с поиском и фильтрами
- `/notes/create` - создание новой заметки
- `/notes/:id` - просмотр заметки
- `/notes/edit/:id` - редактирование

Состояние храню в Pinia, стили на Tailwind CSS. Сделал адаптивный дизайн, работает на мобилках.

### Что работает

- Регистрация и вход
- Создание/редактирование/удаление заметок
- Поиск по заметкам (по заголовку и содержимому)
- Категории для заметок
- Валидация форм
- Обработка ошибок с нормальными сообщениями

### Деплой

**Docker Compose**:

```bash
docker-compose up -d
```

### Тесты

Написал юнит-тесты для сервисов:

- auth.service.test.ts
- notes.service.test.ts
- api.service.test.ts

Запускаются через `npm test`.

### CI/CD

Настроил GitHub Actions:

- Прогоняет тесты на каждый пуш
- Проверяет линтер
- Собирает Docker образы

## Архитектура

```
Frontend (Nuxt) → API Gateway → Auth Service
                              → Notes Service
                                    ↓
                                 MongoDB
```

Микросервисы общаются между собой через Moleculer, наружу торчит только API Gateway.

## Что не успел / можно добавить

- Markdown редактор для заметок
- Шаринг заметок с другими пользователями
- Теги (сейчас только категории)
- Прикрепление файлов
- Экспорт заметок

## Как запустить

Самый быстрый способ:

```bash
docker-compose up -d
```

Откроется на http://localhost:3001

Или локально:

```bash
# Terminal 1
cd backend && npm install && npm run dev

# Terminal 2
cd frontend && npm install && npm run dev
```

## Технологии

- Node.js 20, TypeScript
- Moleculer (микросервисы)
- MongoDB + TypeORM
- Nuxt 3, Vue 3, Tailwind
- Docker, k3s
- vitest для тестов
